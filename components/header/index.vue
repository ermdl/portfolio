<template>
  <header
    class="fixed w-full top-0 left-0 z-10 transform-gpu transition-all"
    :class="backgroundColor"
  >
    <div class="container mx-auto max-w-7xl px-8 py-4 rounded-none">
      <div class="flex justify-between items-center">
        <!-- Left -->
        <div>
          <NuxtLink
            to="/"
            class="font-medium text-primary"
            aria-label="Go to dlencode.com"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="80"
              height="16"
              viewBox="0 0 80 16"
              fill="none"
            >
              <g clip-path="url(#clip0_356_12922)">
                <g style="mix-blend-mode: difference">
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M14.5391 -0.4375L11.5391 16.1125L13.3594 16.4425L16.3594 -0.10753L14.5391 -0.4375ZM61.3374 14.6798C62.008 15.129 62.7892 15.3536 63.6812 15.3536C64.1369 15.3536 64.5633 15.2885 64.9605 15.1583C65.3576 15.0346 65.7222 14.8425 66.0542 14.5821C66.3863 14.3217 66.6727 13.9929 66.9136 13.5958H66.9331V15.1583H68.7593V0.607484H66.8941V6.34967H66.8745C66.6532 5.97207 66.3797 5.65631 66.0542 5.40241C65.7287 5.1485 65.3641 4.9597 64.9605 4.836C64.5568 4.7123 64.1304 4.65045 63.6812 4.65045C62.7958 4.65045 62.0145 4.87506 61.3374 5.32428C60.6669 5.7735 60.146 6.40176 59.7749 7.20905C59.4038 8.00983 59.2183 8.94082 59.2183 10.002C59.2183 11.0567 59.4038 11.9877 59.7749 12.795C60.146 13.6023 60.6669 14.2305 61.3374 14.6798ZM65.6148 13.2637C65.1656 13.5697 64.6349 13.7227 64.023 13.7227C63.4501 13.7227 62.9422 13.5827 62.4995 13.3028C62.0633 13.0163 61.7215 12.5964 61.4741 12.043C61.2267 11.4896 61.1031 10.8093 61.1031 10.002C61.1031 9.18821 61.2267 8.50462 61.4741 7.95123C61.7215 7.39785 62.0633 6.98118 62.4995 6.70123C62.9422 6.41478 63.4501 6.27155 64.023 6.27155C64.6349 6.27155 65.1656 6.4278 65.6148 6.7403C66.0705 7.04629 66.4188 7.47923 66.6597 8.03913C66.9071 8.59251 67.0308 9.24681 67.0308 10.002C67.0308 10.7507 66.9071 11.405 66.6597 11.9649C66.4188 12.5183 66.0705 12.9512 65.6148 13.2637ZM22.1073 15.3926C21.0917 15.3926 20.2226 15.1615 19.4999 14.6993C18.7773 14.237 18.2239 13.6023 17.8398 12.795C17.4557 11.9812 17.2636 11.0567 17.2636 10.0215C17.2636 8.97337 17.4622 8.04238 17.8593 7.22858C18.2629 6.41478 18.8196 5.77676 19.5292 5.31452C20.2454 4.84577 21.0657 4.61139 21.9902 4.61139C22.7128 4.61139 23.3671 4.7416 23.953 5.00202C24.539 5.26243 25.0403 5.63353 25.457 6.1153C25.8736 6.59707 26.1926 7.16673 26.414 7.82428C26.6353 8.48183 26.746 9.211 26.746 10.0118V10.5196H19.0934C19.1149 11.1132 19.2309 11.6438 19.4413 12.1114C19.6822 12.6322 20.0273 13.0424 20.4765 13.3419C20.9257 13.6348 21.4726 13.7813 22.1171 13.7813C22.5924 13.7813 23.009 13.7097 23.3671 13.5665C23.7252 13.4167 24.0214 13.2117 24.2558 12.9512C24.4902 12.6908 24.6594 12.3881 24.7636 12.043H26.58C26.4498 12.7071 26.1764 13.2898 25.7597 13.7911C25.343 14.2924 24.8189 14.6863 24.1874 14.9727C23.5624 15.2527 22.8691 15.3926 22.1073 15.3926ZM19.4511 7.76569C19.2707 8.1363 19.1578 8.55622 19.1125 9.02545H24.9069C24.8616 8.55622 24.7487 8.1363 24.5683 7.76569C24.3274 7.2709 23.9889 6.89004 23.5527 6.62311C23.1165 6.34967 22.5989 6.21295 21.9999 6.21295C21.414 6.21295 20.9029 6.34967 20.4667 6.62311C20.0305 6.89004 19.692 7.2709 19.4511 7.76569ZM30.057 9.17194V15.1583H28.1917V4.84577H30.0179V6.37092C30.2798 5.93669 30.5891 5.58781 30.9456 5.32428C31.5511 4.87506 32.2738 4.65045 33.1136 4.65045C33.8167 4.65045 34.4515 4.80345 35.0179 5.10944C35.5843 5.40892 36.0335 5.86139 36.3655 6.46686C36.7041 7.07233 36.8734 7.83079 36.8734 8.74225V15.1583H35.0081V8.9278C35.0081 8.06842 34.803 7.42064 34.3929 6.98444C33.9827 6.54824 33.4033 6.33014 32.6546 6.33014C32.1728 6.33014 31.7334 6.4278 31.3363 6.62311C30.9456 6.81842 30.6331 7.12441 30.3988 7.54108C30.1709 7.95774 30.057 8.50136 30.057 9.17194ZM40.6628 14.709C41.392 15.1648 42.2383 15.3926 43.2019 15.3926C43.8008 15.3926 44.3542 15.3015 44.862 15.1192C45.3764 14.9304 45.8288 14.67 46.2195 14.338C46.6101 14.0059 46.9258 13.6153 47.1667 13.1661C47.4141 12.7169 47.5704 12.2318 47.6355 11.711H45.7409C45.6693 12.017 45.5652 12.2969 45.4284 12.5508C45.2917 12.7982 45.1192 13.0131 44.9109 13.1954C44.709 13.3777 44.4682 13.5176 44.1882 13.6153C43.9083 13.7064 43.5827 13.752 43.2116 13.752C42.5866 13.752 42.0528 13.599 41.6101 13.293C41.1674 12.987 40.8288 12.5541 40.5945 11.9942C40.3601 11.4343 40.2429 10.7768 40.2429 10.0215C40.2429 9.25983 40.3601 8.59577 40.5945 8.02936C40.8288 7.46295 41.1674 7.02676 41.6101 6.72077C42.0593 6.40827 42.5932 6.25202 43.2116 6.25202C43.5827 6.25202 43.9115 6.3041 44.198 6.40827C44.4844 6.50592 44.7351 6.6459 44.9499 6.82819C45.1648 7.01048 45.3405 7.22532 45.4773 7.47272C45.6205 7.72011 45.7182 7.9903 45.7702 8.28327H47.6355C47.5639 7.74941 47.4076 7.26113 47.1667 6.81842C46.9258 6.3692 46.6101 5.98183 46.2195 5.65631C45.8288 5.32428 45.3796 5.06712 44.8718 4.88483C44.364 4.70254 43.8073 4.61139 43.2019 4.61139C42.2383 4.61139 41.392 4.84251 40.6628 5.30475C39.9336 5.76699 39.3672 6.40501 38.9636 7.21881C38.5599 8.03261 38.3581 8.96686 38.3581 10.0215C38.3581 11.0697 38.5599 11.9975 38.9636 12.8048C39.3672 13.612 39.9336 14.2468 40.6628 14.709ZM53.378 15.3926C52.4145 15.3926 51.5681 15.1648 50.839 14.709C50.1098 14.2533 49.5402 13.6218 49.13 12.8145C48.7264 12.0072 48.5245 11.0762 48.5245 10.0215C48.5245 8.96035 48.7264 8.02285 49.13 7.20905C49.5402 6.39525 50.1098 5.76048 50.839 5.30475C51.5681 4.84251 52.4145 4.61139 53.378 4.61139C54.3546 4.61139 55.2042 4.84251 55.9269 5.30475C56.656 5.76048 57.2224 6.39525 57.6261 7.20905C58.0362 8.02285 58.2413 8.96035 58.2413 10.0215C58.2413 11.0762 58.0362 12.0072 57.6261 12.8145C57.2224 13.6218 56.656 14.2533 55.9269 14.709C55.2042 15.1648 54.3546 15.3926 53.378 15.3926ZM53.378 13.752C54.003 13.752 54.5369 13.599 54.9796 13.293C55.4223 12.987 55.7609 12.5541 55.9952 11.9942C56.2361 11.4278 56.3566 10.7702 56.3566 10.0215C56.3566 9.25983 56.2361 8.59902 55.9952 8.03913C55.7609 7.47272 55.4223 7.03327 54.9796 6.72077C54.5369 6.40827 54.003 6.25202 53.378 6.25202C52.7661 6.25202 52.2355 6.40827 51.7862 6.72077C51.3435 7.02676 51.0017 7.46295 50.7609 8.02936C50.5265 8.59577 50.4093 9.25983 50.4093 10.0215C50.4093 10.7768 50.5265 11.4343 50.7609 11.9942C51.0017 12.5541 51.3435 12.987 51.7862 13.293C52.229 13.599 52.7596 13.752 53.378 13.752ZM75.0878 15.3926C74.0722 15.3926 73.203 15.1615 72.4804 14.6993C71.7577 14.237 71.2043 13.6023 70.8202 12.795C70.4361 11.9812 70.2441 11.0567 70.2441 10.0215C70.2441 8.97337 70.4426 8.04238 70.8398 7.22858C71.2434 6.41478 71.8 5.77676 72.5097 5.31452C73.2258 4.84577 74.0461 4.61139 74.9706 4.61139C75.6933 4.61139 76.3476 4.7416 76.9335 5.00202C77.5195 5.26243 78.0208 5.63353 78.4374 6.1153C78.8541 6.59707 79.1731 7.16673 79.3945 7.82428C79.6158 8.48183 79.7265 9.211 79.7265 10.0118V10.5196H72.0739C72.0954 11.1132 72.2114 11.6438 72.4218 12.1114C72.6627 12.6322 73.0077 13.0424 73.457 13.3419C73.9062 13.6348 74.453 13.7813 75.0976 13.7813C75.5728 13.7813 75.9895 13.7097 76.3476 13.5665C76.7057 13.4167 77.0019 13.2117 77.2363 12.9512C77.4706 12.6908 77.6399 12.3881 77.7441 12.043H79.5605C79.4303 12.7071 79.1568 13.2898 78.7402 13.7911C78.3235 14.2924 77.7994 14.6863 77.1679 14.9727C76.5429 15.2527 75.8495 15.3926 75.0878 15.3926ZM72.4316 7.76569C72.2511 8.1363 72.1383 8.55622 72.093 9.02545H77.8873C77.842 8.55622 77.7292 8.1363 77.5488 7.76569C77.3079 7.2709 76.9693 6.89004 76.5331 6.62311C76.0969 6.34967 75.5793 6.21295 74.9804 6.21295C74.3945 6.21295 73.8834 6.34967 73.4472 6.62311C73.011 6.89004 72.6724 7.2709 72.4316 7.76569ZM4.46289 15.3536C3.57096 15.3536 2.78971 15.129 2.11914 14.6798C1.44857 14.2305 0.927734 13.6023 0.556641 12.795C0.185547 11.9877 0 11.0567 0 10.002C0 8.94082 0.185547 8.00983 0.556641 7.20905C0.927734 6.40176 1.44857 5.7735 2.11914 5.32428C2.79622 4.87506 3.57747 4.65045 4.46289 4.65045C4.91211 4.65045 5.33854 4.7123 5.74219 4.836C6.14583 4.9597 6.51042 5.1485 6.83594 5.40241C7.16146 5.65631 7.4349 5.97207 7.65625 6.34967H7.67578V0.607485H9.54102V15.1583H7.71484V13.5958H7.69531C7.45443 13.9929 7.16797 14.3217 6.83594 14.5821C6.50391 14.8425 6.13932 15.0346 5.74219 15.1583C5.34505 15.2885 4.91862 15.3536 4.46289 15.3536ZM4.80469 13.7227C5.41667 13.7227 5.94727 13.5697 6.39648 13.2637C6.85221 12.9512 7.20052 12.5183 7.44141 11.9649C7.6888 11.405 7.8125 10.7507 7.8125 10.002C7.8125 9.24681 7.6888 8.59251 7.44141 8.03913C7.20052 7.47923 6.85221 7.04629 6.39648 6.7403C5.94727 6.4278 5.41667 6.27155 4.80469 6.27155C4.23177 6.27155 3.72396 6.41478 3.28125 6.70123C2.84505 6.98118 2.50326 7.39785 2.25586 7.95123C2.00846 8.50462 1.88477 9.18821 1.88477 10.002C1.88477 10.8093 2.00846 11.4896 2.25586 12.043C2.50326 12.5964 2.84505 13.0163 3.28125 13.3028C3.72396 13.5827 4.23177 13.7227 4.80469 13.7227Z"
                    fill="currentColor"
                  />
                </g>
              </g>
              <defs>
                <clipPath id="clip0_356_12922">
                  <rect
                    width="79.9629"
                    height="14.7852"
                    fill="currentColor"
                    transform="translate(0 0.607422)"
                  />
                </clipPath>
              </defs>
            </svg>
          </NuxtLink>
        </div>

        <!-- Right -->
        <div class="flex gap-6 items-center">
          <NuxtLink to="/about">About</NuxtLink>
          <NuxtLink to="/projects">Projects</NuxtLink>
          <NuxtLink to="/contact">Contact</NuxtLink>

          <HeaderBlockOpen />
          <ColorModeTrigger />
        </div>
      </div>
    </div>
  </header>
</template>

<script lang="ts" setup>
// Changing bacground color on scroll
const backgroundColor = ref('bg-trabsparent')

const handleBackground = () => {
  if (window.scrollY > 0) {
    backgroundColor.value = 'backdrop-blur-lg bg-background/75'
  } else {
    backgroundColor.value = 'bg-transparent'
  }
}

onMounted(() => {
  handleBackground()
  window.addEventListener('scroll', handleBackground)
})

onUnmounted(() => {
  window.removeEventListener('scroll', handleBackground)
})
</script>
